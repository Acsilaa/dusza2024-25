{% extends "layouts/main.html" %}
{% block style %}
{% load static %}
<link rel="stylesheet" href="{% static 'contestant_panel.css' %}">
{% endblock %}

{% block content %}
    <div class="cont">
        <h1>Iskola adatai</h1>
        <p>Neve : {{ name }}</p>
        <p>Címe : {{ address }}</p>
        <p>Kapcsolattartó neve : {{ contact_name }}</p>
        <p>Kapcsolattartó email címe : {{ contact_email }}</p>
        <button class="btn btn-primary"><a class="text-decoration-none text-white" href="{% url 'school.modify' %}">Módosítás</a></button>
    </div>
{% endblock %}
{% block content1 %}
<section class="middle">
      <div class="wave2 wave">

        <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
          <path
            d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"
            class="shape-fill"></path>
        </svg>
        
    {% if hasTeam %}
        <table>
            <tr>
                <th>Csapatnév</th>
                <th>1. csapattag neve</th>
                <th>1. csapattag évfolyama</th>
                <th>2. csapattag neve</th>
                <th>2. csapattag évfolyama</th>
                <th>3. csapattag neve</th>
                <th>3. csapattag évfolyama</th>
                <th>Póttag neve</th>
                <th>Póttag évfolyama</th>
                <th>Felkészítő tanárok</th>
                <th>Kategória</th>
                <th>Programnyelv</th>
                <th>Jóváhagyva</th>
                <th>Benevezve</th>
            </tr>
            {% for team in teams %}
            <tr>
                <td>{{ team.name }}</td>
                <td>{{ team.contestant1_name }}</td>
                <td>{{ team.contestant1_grade }}</td>
                <td>{{ team.contestant2_name }}</td>
                <td>{{ team.contestant2_grade }}</td>
                <td>{{ team.contestant3_name }}</td>
                <td>{{ team.contestant3_grade }}</td>
                {% if team.contestant4_name !=  "" %}
                    <td>{{ team.contestant4_name }}</td>
                    <td>{{ team.contestant4_grade }}</td>
                {% else %}
                    <td>Nincs</td>
                    <td>Nincs</td>
                {% endif %}
                <td>{{ team.teachers }}</td>
                <td>{{ team.category }}</td>
                <td>{{ team.language }}</td>
                {% if team.approved %}
                    <td>✅</td>
                {% else %}
                    <td>❌</td>
                {% endif %}
                {% if team.joined %}
                    <td>✅</td>
                {% else %}
                    <td>❌</td>
                {% endif %}
                {% if not team.approved %}
                    <td>
                        <button class="btn btn-primary">
                            <a class="text-decoration-none text-white" href="{% url 'team.approve' %}">Jóváhagyás
                            </a>
                        </button>
                    </td>
                {% endif %}
            </tr>
            {% endfor %}
        </table>
    {% else %}
        <h2>Az iskolának még nincs csapata!</h2>
    {% endif %}
</div>
</section>
{% endblock %}